#ifndef _FTE_FUTURETEK_H__
#define _FTE_FUTURETEK_H__

#define FTE_FUTURETEK_DEVICE_MAX                10

#ifndef FTE_FUTURETEK_DEFAULT_LOOP_PERIOD
#define FTE_FUTURETEK_DEFAULT_LOOP_PERIOD        2000 // ms
#endif

#ifndef FTE_FUTURETEK_DEFAULT_UPDATE_INTERVAL
#define FTE_FUTURETEK_DEFAULT_UPDATE_INTERVAL    2000 // ms
#endif

#ifndef FTE_FUTURETEK_DEFAULT_REQUEST_TIMEOUT
#define FTE_FUTURETEK_DEFAULT_REQUEST_TIMEOUT    500
#endif

#ifndef FTE_FUTURETEK_DEFAULT_RETRY_COUNT
#define FTE_FUTURETEK_DEFAULT_RETRY_COUNT        3
#endif

#define FTE_FUTURETEK_MS10_REG_VALUE_START          0
#define FTE_FUTURETEK_MS10_REG_VALUE_MOISTURE       0
#define FTE_FUTURETEK_MS10_REG_VALUE_MAX            1

#define FTE_FUTURETEK_MS10_REG_ADDR_START           1
#define FTE_FUTURETEK_MS10_REG_ADDR_MOISTURE        1

#define FTE_FUTURETEK_MS10_DEFAULT_FULL_DUPLEX      FALSE
#define FTE_FUTURETEK_MS10_DEFAULT_BAUDRATE         9600
#define FTE_FUTURETEK_MS10_DEFAULT_DATABITS         8
#define FTE_FUTURETEK_MS10_DEFAULT_PARITY           FTE_UART_PARITY_NONE
#define FTE_FUTURETEK_MS10_DEFAULT_STOPBITS         FTE_UART_STOP_BITS_1

#define FTE_FUTURETEK_KM21B20_REG_VALUE_START          0
#define FTE_FUTURETEK_KM21B20_REG_VALUE_ACIDITY        0
#define FTE_FUTURETEK_KM21B20_REG_VALUE_MAX            1

#define FTE_FUTURETEK_KM21B20_REG_ADDR_START           0
#define FTE_FUTURETEK_KM21B20_REG_ADDR_ACIDITY         0

#define FTE_FUTURETEK_KM21B20_DEFAULT_FULL_DUPLEX      FALSE
#define FTE_FUTURETEK_KM21B20_DEFAULT_BAUDRATE         9600
#define FTE_FUTURETEK_KM21B20_DEFAULT_DATABITS         8
#define FTE_FUTURETEK_KM21B20_DEFAULT_PARITY           FTE_UART_PARITY_NONE
#define FTE_FUTURETEK_KM21B20_DEFAULT_STOPBITS         FTE_UART_STOP_BITS_1

#define FTE_FUTURETEK_JCG06_REG_VALUE_START             0
#define FTE_FUTURETEK_JCG06_REG_VALUE_RAINFALL          0
#define FTE_FUTURETEK_JCG06_REG_VALUE_RAINFALL_PER_HOUR 1
#define FTE_FUTURETEK_JCG06_REG_VALUE_RAINFALL_RESET    2
#define FTE_FUTURETEK_JCG06_REG_VALUE_MAX               3

#define FTE_FUTURETEK_JCG06_REG_ADDR_START              0
#define FTE_FUTURETEK_JCG06_REG_ADDR_ACIDITY            0

#define FTE_FUTURETEK_JCG06_DEFAULT_FULL_DUPLEX         FALSE
#define FTE_FUTURETEK_JCG06_DEFAULT_BAUDRATE            9600
#define FTE_FUTURETEK_JCG06_DEFAULT_DATABITS            8
#define FTE_FUTURETEK_JCG06_DEFAULT_PARITY              FTE_UART_PARITY_NONE
#define FTE_FUTURETEK_JCG06_DEFAULT_STOPBITS            FTE_UART_STOP_BITS_1

typedef struct  FTE_FUTURETEK_CONFIG_STRUCT
{
    FTE_GUS_CONFIG  xGUS;
}   FTE_FUTURETEK_CONFIG, _PTR_ FTE_FUTURETEK_CONFIG_PTR;

typedef struct  FTE_FUTURETEK_EXT_CONFIG_STRUCT
{
    FTE_UINT32      ulLoopPeriod;
    FTE_UINT32      ulUpdatePeriod;
    FTE_UINT32      ulRequestTimeout;
    FTE_UINT32      ulRetryCount;
}   FTE_FUTURETEK_EXT_CONFIG, _PTR_ FTE_FUTURETEK_EXT_CONFIG_PTR;

typedef struct  FTE_FUTURETEK_STATUS_STRUCT
{
    FTE_GUS_STATUS  xGUS;
    FTE_UINT32      ulRetryCount;
    FTE_TIME        xLastRequestTime;
    FTE_TIME        xLastUpdateTime;
} FTE_FUTURETEK_STATUS, _PTR_ FTE_FUTURETEK_STATUS_PTR;

FTE_RET     FTE_FUTURETEK_init
(
    FTE_OBJECT_PTR pObj
);

void    FTE_FUTURETEK_task
(
    FTE_UINT32 datas
);

FTE_INT32 FTE_FUTURETEK_SHELL_cmd
(
    FTE_INT32       nArgc, 
    FTE_CHAR_PTR    pArgv[] 
);

FTE_RET FTE_FUTURETEK_MS10_create
(
    FTE_CHAR_PTR    pSlaveID, 
    FTE_OBJECT_PTR _PTR_ ppObj
);

void FTE_FUTURETEK_MS10_task
(
    FTE_UINT32     ulObjectID
);


FTE_RET FTE_FUTURETEK_KM21B20_create
(
    FTE_CHAR_PTR    pSlaveID, 
    FTE_OBJECT_PTR _PTR_ ppObj
);


void FTE_FUTURETEK_KM21B20_task
(
    FTE_UINT32     ulObjectID
);

FTE_RET FTE_FUTURETEK_JCG06_create
(
    FTE_CHAR_PTR    pSlaveID, 
    FTE_OBJECT_PTR _PTR_ ppObj
);

void FTE_FUTURETEK_JCG06_task
(
    FTE_UINT32     ulObjectID
);

extern  
FTE_VALUE_TYPE      FTE_FUTURETEK_MS10_valueTypes[];
extern  
FTE_VALUE_TYPE      FTE_FUTURETEK_KM21B20_valueTypes[];
extern  
FTE_VALUE_TYPE      FTE_FUTURETEK_JCG06_valueTypes[];

extern  
FTE_FUTURETEK_CONFIG     FTE_FUTURETEK_MS10_defaultConfig;
extern  
FTE_FUTURETEK_CONFIG     FTE_FUTURETEK_KM21B20_defaultConfig;
extern  
FTE_FUTURETEK_CONFIG     FTE_FUTURETEK_JCG06_defaultConfig;

extern  const 
FTE_GUS_MODEL_INFO  FTE_FUTURETEK_MS10_GUSModelInfo;
extern  const 
FTE_GUS_MODEL_INFO  FTE_FUTURETEK_KM21B20_GUSModelInfo;
extern  const 
FTE_GUS_MODEL_INFO  FTE_FUTURETEK_JCG06_GUSModelInfo;


#endif